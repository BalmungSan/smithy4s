"use strict";(self.webpackChunksmithy4s=self.webpackChunksmithy4s||[]).push([[823],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,f=p["".concat(s,".").concat(m)]||p[m]||c[m]||i;return n?r.createElement(f,o(o({ref:t},d),{},{components:n})):r.createElement(f,o({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1742:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),o=["components"],l={sidebar_label:"Default rendering",title:"Default rendering"},s=void 0,u={unversionedId:"codegen/customisation/default-rendering",id:"codegen/customisation/default-rendering",title:"Default rendering",description:"Smithy4s allows you to customize how defaults on the fields of smithy structures are rendered inside of case classes. There are three options:",source:"@site/../docs/target/jvm-2.13/mdoc/04-codegen/01-customisation/06-default-rendering.md",sourceDirName:"04-codegen/01-customisation",slug:"/codegen/customisation/default-rendering",permalink:"/smithy4s/docs/codegen/customisation/default-rendering",draft:!1,editUrl:"https://github.com/disneystreaming/smithy4s/edit/main/modules/docs/src/04-codegen/01-customisation/06-default-rendering.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_label:"Default rendering",title:"Default rendering"},sidebar:"tutorialSidebar",previous:{title:"Unwrapping",permalink:"/smithy4s/docs/codegen/customisation/unwrapping"},next:{title:"Error Unions",permalink:"/smithy4s/docs/codegen/customisation/error-unions"}},d={},c=[{value:"FULL",id:"full",level:4},{value:"OPTION_ONLY",id:"option_only",level:4},{value:"NONE",id:"none",level:4}],p={toc:c};function m(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Smithy4s allows you to customize how defaults on the fields of smithy structures are rendered inside of case classes. There are three options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"FULL")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OPTION_ONLY")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"NONE"))),(0,i.kt)("p",null,"The default is ",(0,i.kt)("inlineCode",{parentName:"p"},"FULL"),"."),(0,i.kt)("p",null,"This value is set using metadata which means that the setting will be applied to all the rendering done by smithy4s."),(0,i.kt)("h4",{id:"full"},"FULL"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"FULL")," means that default values are rendered for all field types. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'metadata smithy4sDefaultRenderMode = "FULL"\n\nstructure FullExample {\n  one: Integer = 1\n  two: String\n  @required\n  three: String\n}\n')),(0,i.kt)("p",null,"would render to something like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},"case class FullExample(three: String, one: Int = 1, two: Option[String] = None)\n")),(0,i.kt)("p",null,"Notice how the fields above are ordered. The reason for this is that fields are ordered as:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Required Fields"),(0,i.kt)("li",{parentName:"ol"},"Fields with defaults"),(0,i.kt)("li",{parentName:"ol"},"Optional Fields")),(0,i.kt)("h4",{id:"option_only"},"OPTION_ONLY"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'metadata smithy4sDefaultRenderMode = "OPTION_ONLY"\n\nstructure OptionExample {\n  one: Integer = 1\n  two: String\n  @required\n  three: String\n}\n')),(0,i.kt)("p",null,"would render to something like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},"case class FullExample(one: String, three: String, two: Option[String] = None)\n")),(0,i.kt)("p",null,"Now ",(0,i.kt)("inlineCode",{parentName:"p"},"one")," doesn't have a default rendered and as such it is placed first in the case class."),(0,i.kt)("h4",{id:"none"},"NONE"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'metadata smithy4sDefaultRenderMode = "NONE"\n\nstructure OptionExample {\n  one: Integer = 1\n  two: String\n  @required\n  three: String\n}\n')),(0,i.kt)("p",null,"would render to something like:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},"case class FullExample(one: String, two: Option[String], three: String)\n")),(0,i.kt)("p",null,"Now none of the fields are rendered with defaults. As such, the order of the fields is the same as is defined in the smithy structure."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"The presence of the ",(0,i.kt)("inlineCode",{parentName:"p"},"smithy4sDefaultRenderMode")," metadata does NOT change the way smithy4s codecs behave. As such, defaults will still be used when decoding\nfields inside of clients and servers. This feature is purely for changing the generated code for your convenience.")))}m.isMDXComponent=!0}}]);